I"„:<p>resolveèƒ½è®¾ç½®æ¨¡å—å¦‚ä½•è¢«è§£æã€‚webpack æä¾›åˆç†çš„é»˜è®¤å€¼ï¼Œä½†æ˜¯è¿˜æ˜¯å¯èƒ½ä¼šä¿®æ”¹ä¸€äº›è§£æçš„ç»†èŠ‚ã€‚</p>

<h1 id="1é…ç½®resolve">1.é…ç½®resolve</h1>

<h4 id="åˆ›å»ºresovlejs">åˆ›å»ºresovle.js</h4>

<div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">myProject
</span><span class="err">|-build</span>
   |-base
       |-path.js
       |-config.js
   |-mode.js
   |-entry.js
   |-devtool.js
   |-module.js
   |-plugins.js
   |-devServer.js
   |-optimization.js
   |-output.js
<span class="gi">+  |-resolve.js
</span> |-dist
 |-node_modules
 |-src
    |-api
        |-apiPath.js
     |-util
        |-math.js
     |-assets
        |-css
            |-index.css
        |-less
            |-index.less     
        |-sass
            |-index.scss
        |-images
            |-wali_logo.png
     |-index.html
     |-index.js
 |-package.json
 |-webpack.config.js
 |-postcss.config.js
 |-.babelrc
 |-.eslintignore
 |-.eslintrc.js
 |-package-lock.json
 |-stats.json
</code></pre></div></div>

<h4 id="buildresolvejs">build/resolve.js</h4>

<p>resolveé…ç½®å¾ˆå¤šï¼Œè¿™é‡Œå°èœåªåˆ—å‡ºè‡ªå·±å¸¸ç”¨çš„ä¸¤ä¸ªä»…ä¾›å¤§å®¶å‚è€ƒã€‚<a href="https://webpack.docschina.org/configuration/resolve/" title="https://webpack.docschina.org/configuration/resolve/" target="_blank">reslove å®˜æ–¹æ–‡æ¡£</a></p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">dirpath</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">./base/path</span><span class="dl">'</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">resolve</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">alias</span><span class="p">:{</span>
        <span class="dl">'</span><span class="s1">@</span><span class="dl">'</span><span class="p">:</span> <span class="nx">dirpath</span><span class="p">.</span><span class="nx">src</span><span class="p">,</span>
        <span class="dl">'</span><span class="s1">NodeModule</span><span class="dl">'</span><span class="p">:</span> <span class="nx">dirpath</span><span class="p">.</span><span class="nx">nodeModule</span><span class="p">,</span>
        <span class="dl">'</span><span class="s1">Css</span><span class="dl">'</span><span class="p">:</span> <span class="s2">`</span><span class="p">${</span><span class="nx">dirpath</span><span class="p">.</span><span class="nx">src</span><span class="p">}</span><span class="s2">/</span><span class="p">${</span><span class="nx">dirpath</span><span class="p">.</span><span class="nx">css</span><span class="p">}</span><span class="s2">`</span><span class="p">,</span>
        <span class="dl">'</span><span class="s1">Sass</span><span class="dl">'</span><span class="p">:</span> <span class="s2">`</span><span class="p">${</span><span class="nx">dirpath</span><span class="p">.</span><span class="nx">src</span><span class="p">}</span><span class="s2">/</span><span class="p">${</span><span class="nx">dirpath</span><span class="p">.</span><span class="nx">sass</span><span class="p">}</span><span class="s2">`</span><span class="p">,</span>
        <span class="dl">'</span><span class="s1">Less</span><span class="dl">'</span><span class="p">:</span> <span class="s2">`</span><span class="p">${</span><span class="nx">dirpath</span><span class="p">.</span><span class="nx">src</span><span class="p">}</span><span class="s2">/</span><span class="p">${</span><span class="nx">dirpath</span><span class="p">.</span><span class="nx">less</span><span class="p">}</span><span class="s2">`</span><span class="p">,</span>
        <span class="dl">'</span><span class="s1">Images</span><span class="dl">'</span><span class="p">:</span> <span class="s2">`</span><span class="p">${</span><span class="nx">dirpath</span><span class="p">.</span><span class="nx">src</span><span class="p">}</span><span class="s2">/</span><span class="p">${</span><span class="nx">dirpath</span><span class="p">.</span><span class="nx">images</span><span class="p">}</span><span class="s2">]`</span><span class="p">,</span>
        <span class="dl">'</span><span class="s1">Iconfont</span><span class="dl">'</span><span class="p">:</span> <span class="s2">`</span><span class="p">${</span><span class="nx">dirpath</span><span class="p">.</span><span class="nx">src</span><span class="p">}</span><span class="s2">/</span><span class="p">${</span><span class="nx">dirpath</span><span class="p">.</span><span class="nx">iconfont</span><span class="p">}</span><span class="s2">`</span>
    <span class="p">},</span>
    <span class="c1">//å½“æ‰¾ä¸åˆ°æ¨¡å—æ—¶ï¼Œå°è¯•ä»åè¿›è¡Œå¯»æ‰¾</span>
    <span class="na">extensions</span><span class="p">:[</span><span class="dl">'</span><span class="s1">.js</span><span class="dl">'</span><span class="p">,</span><span class="dl">'</span><span class="s1">.vue</span><span class="dl">'</span><span class="p">],</span>
    
<span class="p">}</span>

<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="nx">resolve</span>
</code></pre></div></div>

<h4 id="webpackconfigjs">webpack.config.js</h4>

<div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">const _mode = require('./build/mode');
const _devtool = require('./build/devtool');
const _entry = require('./build/entry');
const _module = require('./build/module');
const _plugins = require('./build/plugins');
const _devServer = require('./build/devServer');
const _optimization = require('./build/optimization');
</span><span class="gi">+ const _resolve = require('./build/resolve');
</span><span class="p">const _output = require('./build/output');
</span>

<span class="p">module.exports = {
</span>	mode: _mode,
	devtool: _devtool,
	entry: _entry,	
	module: _module,
	plugins: _plugins,
	devServer: _devServer,
	optimization: _optimization,
<span class="gi">+	resolve: _resolve,
</span>	output: _output	
<span class="err">}</span>
</code></pre></div></div>

<h1 id="2alias">2.alias</h1>

<p>æˆ‘ä»¬åœ¨ä¸Šé¢<code class="language-plaintext highlighter-rouge">resolve.js</code>æ–‡ä»¶ä¸­é…ç½®äº†<code class="language-plaintext highlighter-rouge">alias</code>ã€‚<code class="language-plaintext highlighter-rouge">alias</code>å°±æ˜¯åˆ«åçš„æ„æ€ï¼Œç®€å•ç†è§£å°±æ˜¯èµ·ä¸€ä¸ªåˆ«å</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">let</span> <span class="nx">resolve</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">alias</span><span class="p">:{</span>
        <span class="dl">'</span><span class="s1">@</span><span class="dl">'</span><span class="p">:</span> <span class="nx">dirpath</span><span class="p">.</span><span class="nx">src</span><span class="p">,</span>
        <span class="dl">'</span><span class="s1">NodeModule</span><span class="dl">'</span><span class="p">:</span> <span class="nx">dirpath</span><span class="p">.</span><span class="nx">nodeModule</span><span class="p">,</span>
        <span class="dl">'</span><span class="s1">Css</span><span class="dl">'</span><span class="p">:</span> <span class="s2">`</span><span class="p">${</span><span class="nx">dirpath</span><span class="p">.</span><span class="nx">src</span><span class="p">}</span><span class="s2">/</span><span class="p">${</span><span class="nx">dirpath</span><span class="p">.</span><span class="nx">css</span><span class="p">}</span><span class="s2">`</span><span class="p">,</span>
        <span class="dl">'</span><span class="s1">Sass</span><span class="dl">'</span><span class="p">:</span> <span class="s2">`</span><span class="p">${</span><span class="nx">dirpath</span><span class="p">.</span><span class="nx">src</span><span class="p">}</span><span class="s2">/</span><span class="p">${</span><span class="nx">dirpath</span><span class="p">.</span><span class="nx">sass</span><span class="p">}</span><span class="s2">`</span><span class="p">,</span>
        <span class="dl">'</span><span class="s1">Less</span><span class="dl">'</span><span class="p">:</span> <span class="s2">`</span><span class="p">${</span><span class="nx">dirpath</span><span class="p">.</span><span class="nx">src</span><span class="p">}</span><span class="s2">/</span><span class="p">${</span><span class="nx">dirpath</span><span class="p">.</span><span class="nx">less</span><span class="p">}</span><span class="s2">`</span><span class="p">,</span>
        <span class="dl">'</span><span class="s1">Images</span><span class="dl">'</span><span class="p">:</span> <span class="s2">`</span><span class="p">${</span><span class="nx">dirpath</span><span class="p">.</span><span class="nx">src</span><span class="p">}</span><span class="s2">/</span><span class="p">${</span><span class="nx">dirpath</span><span class="p">.</span><span class="nx">images</span><span class="p">}</span><span class="s2">]`</span><span class="p">,</span>
        <span class="dl">'</span><span class="s1">Iconfont</span><span class="dl">'</span><span class="p">:</span> <span class="s2">`</span><span class="p">${</span><span class="nx">dirpath</span><span class="p">.</span><span class="nx">src</span><span class="p">}</span><span class="s2">/</span><span class="p">${</span><span class="nx">dirpath</span><span class="p">.</span><span class="nx">iconfont</span><span class="p">}</span><span class="s2">`</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>æˆ‘ä»¬ä¸€èˆ¬åœ¨æºä»£ç ä¸­å¼•å…¥æ¨¡å—ï¼Œæœ‰æ—¶å€™ä¼šå› ä¸ºæ–‡ä»¶åµŒå¥—æ¯”è¾ƒæ·±ï¼Œè·¯å¾„å†™èµ·æ¥å¾ˆéº»çƒ¦å¦‚<code class="language-plaintext highlighter-rouge">../a/b/c/index.js</code>ç­‰ç­‰ã€‚å½“æˆ‘ä»¬åœ¨resolveä¸­é…ç½®<code class="language-plaintext highlighter-rouge">alias</code>ï¼Œå†å¼•å…¥æ¨¡å—æ—¶å°±æ¯”è¾ƒç®€åŒ–äº†ã€‚</p>

<h4 id="æœªç®€åŒ–indexjs">æœªç®€åŒ–index.js</h4>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="dl">"</span><span class="s2">./assets/css/index.css</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="dl">"</span><span class="s2">./assets/less/index.less</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="dl">"</span><span class="s2">./assets/sass/index.scss</span><span class="dl">"</span><span class="p">;</span>

<span class="k">import</span> <span class="p">{</span><span class="nx">strJoin</span><span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">./util/math</span><span class="dl">'</span><span class="p">;</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">strJoin</span><span class="p">());</span>
</code></pre></div></div>

<p>å¦‚æœé…ç½®<code class="language-plaintext highlighter-rouge">alias</code>åˆ«ååå¯ä»¥å†™æˆ</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="dl">'</span><span class="s1">Css/index.css</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="dl">'</span><span class="s1">Less/index.less</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="dl">'</span><span class="s1">Sass/index.scss</span><span class="dl">'</span><span class="p">;</span>

<span class="k">import</span> <span class="dl">'</span><span class="s1">@/util/math</span><span class="dl">'</span><span class="p">;</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">strJoin</span><span class="p">());</span>
</code></pre></div></div>

<h4 id="è¿è¡Œwebpack">è¿è¡Œwebpack</h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>yarn run dev
</code></pre></div></div>

<p>æ‰“å¼€æµè§ˆå™¨ï¼Œå¯ä»¥çœ‹åˆ°æ ·å¼å‘ç”Ÿæ”¹å˜äº†ï¼Œè·¯å¾„è¢«æ­£å¸¸è§£æäº†ã€‚</p>

<p><img src="http://walidream.com:9999/blogImage/webpack/webpack_48.png" alt="ssl" /></p>

<h1 id="3extensions">3.extensions</h1>

<p>å½“æˆ‘ä»¬åœ¨resolveä¸­é…ç½®äº†<code class="language-plaintext highlighter-rouge">extensions:['.js','.vue']</code>ã€‚æˆ‘ä»¬åœ¨æºç ä¸­è¿™æ ·å¼•å…¥æ¨¡å—</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="dl">'</span><span class="s1">@/util/math</span><span class="dl">'</span><span class="p">;</span>
</code></pre></div></div>
<p>å…¶å®webpackæ˜¯ä¸çŸ¥é“åœ¨<code class="language-plaintext highlighter-rouge">util</code>åŠ è½½<code class="language-plaintext highlighter-rouge">math.js</code>æ–‡ä»¶ã€‚ä¸€èˆ¬é»˜è®¤é…ç½®ä¸­ä¼šä¼˜å…ˆæŸ¥æ‰¾jsæ–‡ä»¶ã€‚å°èœä¹‹å‰å°†<code class="language-plaintext highlighter-rouge">extensions:['js','vue']</code>å°‘äº›äº†<code class="language-plaintext highlighter-rouge">.</code>ï¼Œåœ¨webpackç¼–è¯‘æ—¶å°±æŠ¥é”™äº†ï¼Œæ„æ€æ˜¯æ‰¾ä¸è¯¥æ–‡ä»¶ã€‚å¦‚æœæˆ‘ä»¬åœ¨æºç å¼•å…¥vueæ¨¡å—ï¼Œä½†æ˜¯åœ¨<code class="language-plaintext highlighter-rouge">extensions</code>æ²¡æœ‰é…ç½®å¼•å…¥vueåç¼€æ–‡ä»¶ã€‚ç¼–è¯‘æ—¶å°±ä¼šæŠ¥é”™ã€‚</p>

<p>ä¸Šé¢æˆ‘ä»¬é…ç½®[â€˜.jsâ€™,â€™.vueâ€™]</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="dl">'</span><span class="s1">@/util/math</span><span class="dl">'</span><span class="p">;</span>
</code></pre></div></div>
<p>å¦‚æœåœ¨utilç›®å½•ä¸‹é¢æ²¡æœ‰<code class="language-plaintext highlighter-rouge">math.js</code>æ–‡ä»¶ä½†æ˜¯æœ‰<code class="language-plaintext highlighter-rouge">math.vue</code>æ¨¡å—ï¼Œå®é™…ä¸Šå¼•å…¥<code class="language-plaintext highlighter-rouge">import '@/util/math.vue'</code>;</p>

<p>å½“åœ¨æŸä¸ªç›®å½•ä¸‹é¢ä¼˜å…ˆæŸ¥æ‰¾<code class="language-plaintext highlighter-rouge">.js</code>æ–‡ä»¶ï¼Œæ²¡æœ‰åœ¨æŸ¥æ‰¾<code class="language-plaintext highlighter-rouge">.vue</code>æ¨¡å—ã€‚</p>

<p>æˆ‘ä»¬é…ç½®resloveä¸­<code class="language-plaintext highlighter-rouge">extensions</code>,<code class="language-plaintext highlighter-rouge">extensions</code>å¦‚æœä¸åˆç†é…ç½®ï¼Œå°±ä¼šå½±å“åˆ°æ‰“åŒ…é€Ÿåº¦ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ï¼Œ<code class="language-plaintext highlighter-rouge">extensions</code>åªéœ€è¦é…ç½®é€»è¾‘å¤„ç†æ–‡ä»¶çš„åç¼€ï¼Œåƒä¸‡ä¸è¦è¿™æ ·å†™<code class="language-plaintext highlighter-rouge">extensions:['.js','.jsx','.vue','.png','css','sass','less']</code>ã€‚åœ¨webpackç¼–è¯‘æ—¶ï¼Œä¼šæŒ‰ä¸‹é¢æ¡ä»¶ä¾æ¬¡æŸ¥æ‰¾æ–‡ä»¶ï¼Œextensionsé…ç½®è¿‡å¤šå°±ä¼šå¯¼è‡´æ‰«æå¤šæ¬¡æ•°å¢åŠ ï¼Œè¿›è€Œå½±å“æ‰“åŒ…é€Ÿåº¦ã€‚</p>

:ET