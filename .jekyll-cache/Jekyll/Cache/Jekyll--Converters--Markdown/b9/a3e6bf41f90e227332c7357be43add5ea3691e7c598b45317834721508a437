I"Ë7<p>è¶…æ–‡æœ¬ä¼ è¾“å®‰å…¨åè®®ï¼ˆHypertext Transfer Protocol Secureï¼Œç¼©å†™ï¼šHTTPSï¼Œå¸¸ç§°ä¸ºHTTP over TLSï¼ŒHTTP over SSLæˆ–HTTP Secureï¼‰æ˜¯ä¸€ç§é€šè¿‡è®¡ç®—æœºç½‘ç»œè¿›è¡Œå®‰å…¨é€šä¿¡çš„ä¼ è¾“åè®®ã€‚HTTPSç»ç”±HTTPè¿›è¡Œé€šä¿¡ï¼Œä½†åˆ©ç”¨SSL/TLSæ¥åŠ å¯†æ•°æ®åŒ…ã€‚HTTPSå¼€å‘çš„ä¸»è¦ç›®çš„ï¼Œæ˜¯æä¾›å¯¹ç½‘ç«™æœåŠ¡å™¨çš„èº«ä»½è®¤è¯ï¼Œä¿æŠ¤äº¤æ¢æ•°æ®çš„éšç§ä¸å®Œæ•´æ€§ã€‚</p>

<p>httpåè®®ç¼ºç‚¹</p>
<ul>
  <li>ä¼ è¾“æ•°æ®è¢«ä¸­é—´äººç›—ç”¨ï¼Œä¿¡æ¯æ³„éœ²</li>
  <li>æ•°æ®å†…å®¹åŠ«æŒï¼Œç¯¡æ”¹</li>
</ul>

<h1 id="1å¯¹ç§°åŠ å¯†å’Œéå¯¹ç§°åŠ å¯†">1.å¯¹ç§°åŠ å¯†å’Œéå¯¹ç§°åŠ å¯†</h1>

<h4 id="å¯¹ç§°åŠ å¯†">å¯¹ç§°åŠ å¯†</h4>

<p><img src="http://walidream.com:9999/blogImage/nginx/nginx_53.jpg" alt="ssl" /></p>

<p>æ˜æ–‡æ•°æ®åœ¨å‘é€æ–¹ç»è¿‡åŠ å¯†ç®—æ³•åŠ å¯†å‘é€ç»™æ¥æ”¶æ–¹ï¼Œæ¥æ”¶æ–¹æ”¶åˆ°å¯†æ–‡åœ¨ç”¨å¯†é’¥è§£å¯†å®Œæˆã€‚å‘é€æ–¹åŠ å¯†å¯†é’¥å’Œæ¥æ”¶æ–¹è§£å¯†å¯†é’¥è¦ç›¸åŒï¼Œå°±æ˜¯å¯¹ç§°åŠ å¯†ã€‚</p>

<h4 id="éå¯¹ç§°åŠ å¯†">éå¯¹ç§°åŠ å¯†</h4>

<p><img src="http://walidream.com:9999/blogImage/nginx/nginx_54.jpg" alt="ssl" /></p>

<p>åŠ å¯†å¯†é’¥å’Œè§£å¯†å¯†é’¥ä¸ä¸€æ ·ç§°ä¸ºéå¯¹ç§°åŠ å¯†ï¼ˆåŠ å¯†å¯†é’¥ç§°ä¸ºå…¬é’¥ï¼Œè§£å¯†å¯†é’¥ç§°ä¸ºç§é’¥ï¼‰ã€‚</p>

<h1 id="2httpsåŠ å¯†åè®®åŸç†">2.httpsåŠ å¯†åè®®åŸç†</h1>

<p><img src="http://walidream.com:9999/blogImage/nginx/nginx_55.jpg" alt="ssl" /></p>

<p>httpsåŒæ—¶ç”¨äº†å¯¹ç§°åŠ å¯†å’Œéå¯¹ç§°åŠ å¯†ã€‚å®¢æˆ·ç«¯å‘èµ·sslè¿æ¥ï¼ŒæœåŠ¡å‘å®¢æˆ·ç«¯è¿”å›å…¬é’¥ï¼Œå®¢æˆ·ç«¯æ”¶åˆ°å…¬é’¥ï¼Œç”¨å…¬é’¥åŠ å¯†å¯¹ç§°å¯†ç åœ¨å‘é€ä¸ªæœåŠ¡å™¨(è¿™ä¸ªæ“ä½œæ˜¯éå¯¹ç§°åŠ å¯†)ã€‚åé¢è¾“å‡ºä¼ è¾“åˆ©ç”¨
å¯¹ç§°åŠ å¯†æ¥è¿›è¡Œæ•°æ®ä¼ è¾“ã€‚</p>

<h1 id="3ä¸­é—´äººæ”»å‡»">3.ä¸­é—´äººæ”»å‡»</h1>

<p><img src="http://walidream.com:9999/blogImage/nginx/nginx_56.jpg" alt="ssl" /></p>

<p>é’ˆå¯¹SSLçš„ä¸­é—´äººæ”»å‡»æ–¹å¼ä¸»è¦æœ‰ä¸¤ç±»ï¼Œåˆ†åˆ«æ˜¯SSLåŠ«æŒæ”»å‡»å’ŒSSLå‰¥ç¦»æ”»å‡»</p>

<h4 id="sslåŠ«æŒæ”»å‡»">SSLåŠ«æŒæ”»å‡»</h4>

<p>SSLåŠ«æŒæ”»å‡»å³SSLè¯ä¹¦æ¬ºéª—æ”»å‡»ï¼Œæ”»å‡»è€…ä¸ºäº†è·å¾—HTTPSä¼ è¾“çš„æ˜æ–‡æ•°æ®ï¼Œéœ€è¦å…ˆå°†è‡ªå·±æ¥å…¥åˆ°å®¢æˆ·ç«¯å’Œç›®æ ‡ç½‘ç«™ä¹‹é—´ï¼›åœ¨ä¼ è¾“è¿‡ç¨‹ä¸­ä¼ªé€ æœåŠ¡å™¨çš„è¯ä¹¦ï¼Œå°†æœåŠ¡å™¨çš„å…¬é’¥æ›¿æ¢æˆè‡ªå·±çš„å…¬é’¥ï¼Œè¿™æ ·ï¼Œä¸­é—´äººå°±å¯ä»¥å¾—åˆ°æ˜æ–‡ä¼ è¾“å¸¦Key1ã€Key2å’ŒPre-Master-Keyï¼Œä»è€Œçªƒå–å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯çš„é€šä¿¡æ•°æ®
ä½†æ˜¯å¯¹äºå®¢æˆ·ç«¯æ¥è¯´ï¼Œå¦‚æœä¸­é—´äººä¼ªé€ äº†è¯ä¹¦ï¼Œåœ¨æ ¡éªŒè¯ä¹¦è¿‡ç¨‹ä¸­ä¼šæç¤ºè¯ä¹¦é”™è¯¯ï¼Œç”±ç”¨æˆ·é€‰æ‹©ç»§ç»­æ“ä½œè¿˜æ˜¯è¿”å›ï¼Œç”±äºå¤§å¤šæ•°ç”¨æˆ·çš„å®‰å…¨æ„è¯†ä¸å¼ºï¼Œä¼šé€‰æ‹©ç»§ç»­æ“ä½œï¼Œæ­¤æ—¶ï¼Œä¸­é—´äººå°±å¯ä»¥è·å–æµè§ˆå™¨å’ŒæœåŠ¡å™¨ä¹‹é—´çš„é€šä¿¡æ•°æ®</p>

<h4 id="sslå‰¥ç¦»æ”»å‡»">SSLå‰¥ç¦»æ”»å‡»</h4>

<p>è¿™ç§æ”»å‡»æ–¹å¼ä¹Ÿéœ€è¦å°†æ”»å‡»è€…è®¾ç½®ä¸ºä¸­é—´äººï¼Œä¹‹åè§HTTPSèŒƒæ–‡æ›¿æ¢ä¸ºHTTPè¿”å›ç»™æµè§ˆå™¨ï¼Œè€Œä¸­é—´äººå’ŒæœåŠ¡å™¨ä¹‹é—´ä»ç„¶ä¿æŒHTTPSæœåŠ¡å™¨ã€‚ç”±äºHTTPæ˜¯æ˜æ–‡ä¼ è¾“çš„ï¼Œæ‰€ä»¥ä¸­é—´äººå¯ä»¥è·å–å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¼ è¾“æ•°æ®</p>

<h1 id="4è¯ä¹¦å’Œç§é’¥çš„ç”Ÿæˆ">4.è¯ä¹¦å’Œç§é’¥çš„ç”Ÿæˆ</h1>

<blockquote>
  <p>æ³¨æ„ï¼šä¸€èˆ¬ç”Ÿæˆçš„æ–‡ä»¶æ”¾åœ¨<code class="language-plaintext highlighter-rouge">/etc/nginx/ssl</code>ç›®å½•ä¸‹ï¼Œè¿™æ˜¯ä¸ªå¥½çš„ä¹ æƒ¯ã€‚</p>
</blockquote>

<h4 id="æ£€æŸ¥openssl">æ£€æŸ¥openssl</h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>openssl version
</code></pre></div></div>

<p>è¾“å‡ºOpenSSL 1.0.2k-fips  26 Jan 2017è¯æ˜æœ‰opensslï¼Œå¦‚æœæ²¡æœ‰éœ€è¦å®‰è£…</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>yum install openssl   #å®‰è£…openssl
yum install openssl-devel  #å®‰è£…openssl-devel
</code></pre></div></div>

<h4 id="http_ssl_module">http_ssl_module</h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>nginx -V
</code></pre></div></div>

<p>è¾“å‡ºçš„ç¼–è¯‘å‚æ•°æœ‰<code class="language-plaintext highlighter-rouge">--with-http_ssl_module</code>ï¼Œnginxé»˜è®¤ä¼šç¼–è¯‘è¿›å»ï¼Œå¦‚æœæ²¡æœ‰éœ€è¦æ‰‹åŠ¨ç¼–è¯‘ã€‚</p>

<h3 id="1åˆ›å»ºæœåŠ¡å™¨è¯ä¹¦å¯†é’¥æ–‡ä»¶-serverkey">1.åˆ›å»ºæœåŠ¡å™¨è¯ä¹¦å¯†é’¥æ–‡ä»¶ server.key</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>openssl genrsa -des3 -out server.key 1024	
</code></pre></div></div>

<p>å›è½¦åè¾“å…¥å¯†ç ï¼Œç¡®è®¤å¯†ç ï¼Œè‡ªå·±éšä¾¿å†™ï¼Œä½†è¦è®°ä½ã€‚</p>

<h3 id="2åˆ›å»ºæœåŠ¡å™¨è¯ä¹¦çš„ç”³è¯·æ–‡ä»¶-servercsr">2.åˆ›å»ºæœåŠ¡å™¨è¯ä¹¦çš„ç”³è¯·æ–‡ä»¶ server.csr</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>openssl req -new -key server.key -out server.csr
</code></pre></div></div>

<p>è¾“å…¥çš„å†…å®¹ä¸ºï¼š</p>

<pre><code class="language-linux">Enter pass phrase for root.key:  #è¾“å…¥å‰é¢åˆ›å»ºçš„å¯†ç  
Country Name (2 letter code) [XX]: #å›½å®¶ä»£å·ï¼Œä¸­å›½è¾“å…¥CN 
State or Province Name (full name) []: #çœçš„å…¨åï¼Œæ‹¼éŸ³ ShangHai
Locality Name (eg, city) [Default City]: #å¸‚çš„å…¨åï¼Œæ‹¼éŸ³ ShangHai
Organization Name (eg, company) [Default Company Ltd]: #å…¬å¸è‹±æ–‡å  MyCompany Corp
Organizational Unit Name (eg, section) []: #å¯ä»¥ä¸è¾“å…¥ 
Common Name (eg, your name or your server's hostname) []:  #æœåŠ¡å™¨çš„åŸŸå å¦‚ï¼šexample.com ï¼Œwww.example.com è¦ä¸è¦åŠ wwwçœ‹ä½ è®¿é—®çš„æ—¶å€™éœ€ä¸éœ€è¦åŠ 
Email Address []:  #ä½ çš„é‚®ç®±
A challenge password []: #å¯ä»¥ä¸è¾“å…¥ 
An optional company name []:  #å¯ä»¥ä¸è¾“å…¥ 
</code></pre>

<p>æœ€åå®Œæˆåï¼Œè¾“å…¥lsæŸ¥çœ‹åœ¨ä½ å½“å‰æ–‡ä»¶<code class="language-plaintext highlighter-rouge">/etc/nginx/ssl</code>ä¸‹æœ‰æ²¡æœ‰server.keyï¼Œerver.csrè¿™ä¸¤ä¸ªæ–‡ä»¶</p>

<h3 id="3å¤‡ä»½ä¸€ä»½æœåŠ¡å™¨ç§˜é’¥">3.å¤‡ä»½ä¸€ä»½æœåŠ¡å™¨ç§˜é’¥</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cp server.key server.key.org
</code></pre></div></div>

<h3 id="4å»é™¤æ–‡ä»¶å£ä»¤">4.å»é™¤æ–‡ä»¶å£ä»¤</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>openssl rsa -in server.key.org -out server.key
</code></pre></div></div>

<h3 id="5å»é™¤æ–‡ä»¶å£ä»¤">5.å»é™¤æ–‡ä»¶å£ä»¤</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>openssl x509 -req -days 365 -in server.csr -signkey server.key -out server.crt
</code></pre></div></div>

<h1 id="5é…ç½®æ•™ç¨‹">5.é…ç½®æ•™ç¨‹</h1>

<p>æœåŠ¡ç›®å½•</p>

<pre><code class="language-txt">/opt/app/code
|-index.html

/etc/nginx/conf.d
|-https.conf
</code></pre>

<h4 id="indexhtml">index.html</h4>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;!doctype html&gt;</span>
<span class="nt">&lt;html</span> <span class="na">lang=</span><span class="s">"en"</span><span class="nt">&gt;</span>
<span class="nt">&lt;head&gt;</span>
	<span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">"UTF-8"</span><span class="nt">&gt;</span>
	<span class="nt">&lt;title&gt;</span>Document<span class="nt">&lt;/title&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
	<span class="nt">&lt;h1&gt;</span>æ¬¢è¿æ¥åˆ°ç“¦åŠ›åšå®¢<span class="nt">&lt;/h1&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre></div></div>

<h4 id="httpsconf">https.conf</h4>

<div class="language-nginx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">server</span> <span class="p">{</span>
    <span class="kn">listen</span>       <span class="mi">443</span><span class="p">;</span>
    <span class="kn">server_name</span>  <span class="s">walidream.com</span> <span class="s">www.walidream.com</span><span class="p">;</span>
    
    <span class="kn">ssl</span> <span class="no">on</span><span class="p">;</span> 
    <span class="kn">ssl_certificate</span>      <span class="n">/etc/nginx/ssl/server.crt</span><span class="p">;</span>
    <span class="kn">ssl_certificate_key</span>  <span class="n">/etc/nginx/ssl/server.key</span><span class="p">;</span>

    <span class="kn">location</span> <span class="n">/</span> <span class="p">{</span> 
       <span class="kn">root</span> <span class="n">/opt/app/code</span><span class="p">;</span>
       <span class="kn">index</span> <span class="s">index.html</span><span class="p">;</span>
    <span class="p">}</span>   


    <span class="kn">error_page</span>   <span class="mi">500</span> <span class="mi">502</span> <span class="mi">503</span> <span class="mi">504</span>  <span class="n">/50x.html</span><span class="p">;</span>
    <span class="kn">location</span> <span class="p">=</span> <span class="n">/50x.html</span> <span class="p">{</span>
        <span class="kn">root</span>   <span class="n">/usr/share/nginx/html</span><span class="p">;</span>
    <span class="p">}</span>   
<span class="p">}</span>
</code></pre></div></div>

<p>æ£€æµ‹è¯­æ³•å¹¶é‡å¯</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>nginx -tc /etc/nginx/nginx.conf
nginx -s reload -c /etc/nginx/nginx.conf
</code></pre></div></div>

<blockquote>
  <p>æ³¨æ„: <code class="language-plaintext highlighter-rouge">å°èœåœ¨è¿™é‡Œç”¨çš„æ˜¯é˜¿é‡Œäº‘æœåŠ¡å™¨ï¼Œé»˜è®¤æ²¡æœ‰æ‰“å¼€443ç«¯å£ã€‚éœ€è¦æ‰‹åŠ¨å¼€æ”¾443ç«¯å£</code></p>
</blockquote>

<p>è¾“å…¥åŸŸå<code class="language-plaintext highlighter-rouge">https://walidream.com</code></p>

<p><img src="http://walidream.com:9999/blogImage/nginx/nginx_58.jpg" alt="ssl" /></p>

<p><img src="http://walidream.com:9999/blogImage/nginx/nginx_59.jpg" alt="ssl" /></p>

<h1 id="6è‹¹æœè¯ä¹¦é…ç½®">6.è‹¹æœè¯ä¹¦é…ç½®</h1>

<p>é…ç½®è‹¹æœè¦æ±‚çš„è¯ä¹¦</p>
<ul>
  <li>æœåŠ¡å™¨æ‰€æœ‰çš„è¿æ¥ä½¿ç”¨TLS1.2ä»¥ä¸Šç‰ˆæœ¬(openssl 1.0.2)</li>
  <li>HTTPSè¯ä¹¦å¿…é¡»ä½¿ç”¨SHA2556ä»¥ä¸Šå“ˆå¸Œç®—æ³•ç­¾å</li>
  <li>HTTPSè¯ä¹¦å¿…é¡»ä½¿ç”¨RSA 2048ä¸ºæˆ–ECC 256ä½ä»¥ä¸Šå…¬é’¥ç®—æ³•</li>
  <li>ä½¿ç”¨å‘å‰åŠ å¯†æŠ€æœ¯</li>
</ul>

<h4 id="æŸ¥çœ‹opensslç‰ˆæœ¬">æŸ¥çœ‹opensslç‰ˆæœ¬</h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>openssl version
</code></pre></div></div>

<p>opensslçš„ç‰ˆæœ¬è¦åœ¨1.2,å¦‚æœä¸åœ¨1.2ç‰ˆæœ¬ä»¥ä¸Šï¼Œéœ€è¦å‡çº§ã€‚æ–°å»º<code class="language-plaintext highlighter-rouge">updata.sh</code></p>

<pre><code class="language-`sh"># å‡çº§openssl è„šæœ¬
cd /opt/download
wget https://www.openssl.org/source/openssl-1.0.2k.tar.gz
tar -zxvf openssl-1.0.2k.tar.gz
cd openssl-1.0.2k
./config --prefix=/usr/local/openssl 
make &amp;&amp; make install 
mv /usr/bin/openssl   /usr/bin/openssl.OFF 
mv /usr/include/openssl   /usr/include/openssl.OFF 
ln -s   /usr/local/openssl/bin/openssl   /usr/bin/openssl 
ln -s   /usr/local/openssl/include/openssl   /usr/include/openssl 
echo "/usr/local/openssl/lib"  &gt;&gt;/etc/ld.so.conf 
ldconfig -v
openssl version -a
</code></pre>

<p>æ‰§è¡Œ</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sh updata.sh
</code></pre></div></div>

<h4 id="æŸ¥çœ‹å½“å‰ä½¿ç”¨è‡ªç­¾è¯ä¹¦çš„ç±»å‹">æŸ¥çœ‹å½“å‰ä½¿ç”¨è‡ªç­¾è¯ä¹¦çš„ç±»å‹</h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>openssl x509 -noout -text -in ./server.crt
</code></pre></div></div>

<p><img src="http://walidream.com:9999/blogImage/nginx/nginx_60.jpg" alt="ssl" /></p>

<h1 id="7ç›´æ¥é€šè¿‡keyæ¥ç”Ÿæˆè¯ä¹¦">7.ç›´æ¥é€šè¿‡keyæ¥ç”Ÿæˆè¯ä¹¦</h1>

<p>åœ¨ä¸Šé¢<code class="language-plaintext highlighter-rouge">è¯ä¹¦å’Œç§é’¥çš„ç”Ÿæˆ</code>ç”Ÿæˆé¡ºåºå…ˆç”Ÿæˆ<code class="language-plaintext highlighter-rouge">server.key</code>â€“&gt;åœ¨ç”Ÿæˆ<code class="language-plaintext highlighter-rouge">server.csr</code>â€“&gt;æœ€åç”Ÿæˆ<code class="language-plaintext highlighter-rouge">server.crt</code>ï¼Œæˆ‘ä»¬å°†ç›´æ¥é€šè¿‡keyæ¥ç”Ÿæˆcrt</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>openssl req -days 36500 -x509 -sha256 -nodes -newkey rsa:2048 -keyout server.key -out server.crt
</code></pre></div></div>

<p>å»æ‰å¯†ç ä¿æŠ¤ç </p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>openssl -in ./server.key -out ./server_nopas.key
</code></pre></div></div>

<h1 id="8httpsä¼˜åŒ–æœåŠ¡ä¼˜åŒ–">8.httpsä¼˜åŒ–æœåŠ¡ä¼˜åŒ–</h1>

<h4 id="æ¿€æ´»keepaliveé•¿è¿æ¥">æ¿€æ´»keepaliveé•¿è¿æ¥</h4>

<p>æ‰“å¼€é•¿è¿æ¥ï¼Œä¸€æ¬¡è¿æ¥å¦‚æœå¯ä»¥å¤„ç†æ›´å¤šçš„è¯·æ±‚ï¼Œå»ºç«‹æ¡æ‰‹æ¬¡æ•°å˜å°‘ï¼Œå¯¹æœåŠ¡ç«¯çš„æ€§èƒ½æå‡</p>

<h4 id="è®¾ç½®ssl-sessionç¼“å­˜">è®¾ç½®ssl sessionç¼“å­˜</h4>

<p>è®¾ç½®ssl sessionç¼“å­˜æŠŠéƒ¨åˆ†ä¿¡æ¯å†…å®¹æ”¾åœ¨ç¼“å­˜ï¼Œè¿™æ ·æœåŠ¡å™¨å¤„ç†èµ„æºcpuå°±ä¼šå˜å°‘ï¼Œå°±ä¼šå˜å¾—æ›´åŠ å¿«é€Ÿ</p>

<h1 id="9httpsé…ç½®session">9.httpsé…ç½®session</h1>

<div class="language-nginx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">server</span>
 <span class="p">{</span>
   <span class="kn">listen</span>       <span class="mi">443</span><span class="p">;</span>
   <span class="kn">server_name</span>  <span class="s">walidream.com</span><span class="p">;</span>
   
   <span class="kn">keepalive_timeout</span> <span class="mi">100</span><span class="p">;</span>
   
   <span class="kn">ssl</span> <span class="no">on</span><span class="p">;</span>
   <span class="kn">ssl_session_cache</span> <span class="s">shared:SSL:10m</span><span class="p">;</span>
   <span class="kn">ssl_session_timeout</span> <span class="mi">10m</span><span class="p">;</span>
   
   <span class="kn">ssl_certificate</span> <span class="n">/etc/nginx/ssl_key/server.crt</span><span class="p">;</span>
   <span class="kn">ssl_certificate_key</span> <span class="n">/etc/nginx/ssl_key/server.key</span><span class="p">;</span>
   
   <span class="kn">location</span> <span class="n">/</span> <span class="p">{</span>
       <span class="kn">root</span>  <span class="n">/opt/app/code</span><span class="p">;</span>
	   <span class="kn">index</span> <span class="s">index.html</span> <span class="s">index.htm</span><span class="p">;</span>
   <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

:ET