---
layout: post
title: Date日期方法   #标题
tagline: javascript 中关于时间的封装方法
category: javascript      #分类
author: wali    #作者
tag: Date     #标签
ghurl:        #github url
ghurl_zip:    #github zip下载

post_nav: ['1.将小于9的字符串前缀补零','2.将时间戳格式化年月日时分秒','3.将时间戳格式化年月日','4.生成一段时间','5.将不存在时间段数据补零']
---

# 1.将小于9的字符串前缀补零

> 参数：`n`

参数|类型|必填|说明
-|-|-|-
n|Number|是|n:0-9数字|

```javascript
const formatNumber = n => {
  n = n.toString();
  return n[1] ? n : '0' + n;
}
```

# 2.将时间戳格式化年月日时分秒

> 功能：YYYY-MM-DD hh:mm:ss

> 参数：`date`

参数|类型|必填|说明
-|-|-|-
date|Object|是|日期对象|

```javascript
const formatTimeYMDhms = date => {
  const year = date.getFullYear();
  const month = date.getMonth() + 1;
  const day = date.getDate();
  const hour = date.getHours();
  const minute = date.getMinutes();
  const second = date.getSeconds();
  return [year, month, day].map(formatNumber).join('/') + ' ' + [hour, minute, second].map(formatNumber).join(':');
}
```

# 3.将时间戳格式化年月日

> 功能：YYYY-MM-DD

> 方法：formatTimeYMD(date)

> 参数：`date`

参数|类型|必填|说明
-|-|-|-
date|Object|是|日期对象|

```javascript
const formatTimeYMD = date => {
  const year = date.getFullYear();
  const month = date.getMonth() + 1;
  const day = date.getDate();
  return [year, month, day].map(formatNumber).join('-');
}
```

# 4.生成一段时间

> 功能：生成一组num天到当天字符串日期

> 方法：createTimeDate(num)

> 参数：`date`

参数|类型|必填|说明
-|-|-|-
date|Object|是|日期对象|

```javascript
const createTimeDate = num => {
  let arrDay = [];
  for(let i=0;i<num;i++){
    let tmpDay = new Date().setDate(new Date().getDate() - i);
    let str = timeUtil.formatTimeYMD(new Date(tmpDay))
    arrDay.push(str);
  }
  return arrDay;
}
```

# 5.将不存在时间段数据补零

> 方法：mergeTimeDate(arr ,num); 返回：返回合并后的时间段

> 参数：`arr` `num`

参数|类型|必填|说明
-|-|-|-
arr|Array|是|日期数组|
num|Number|是|天数|

```javascript
const mergeTimeDate = (arr ,num) => {
  let brr = createTimeDate(num);
  let crr = brr.map((val) => {
    let tmpObj = {};
    tmpObj.date = val;
    tmpObj.count = 0;
    arr.forEach((v)=>{
      if(val == v.date){
        tmpObj.count = v.count;
      }
    });
    return tmpObj;
  });
  return crr;
}
```








