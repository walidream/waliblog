---
layout: post
title: webpack 开发模式和生产模式(11)
tagline: webpack教程
category: webpack      #分类
author: wali    #作者
tag: webpack     #标签
ghurl:      #github url
ghurl_zip:  #github zip下载
comments: true
post_nav: []
group_tag: webpack4.x 教程
---

我们正常开发项目会有两种模式，一种是开发模式，另一种是生产模式。在开发模式中，为了便于代码调试方便我们快速定位错误，不会压缩混淆源代码。但在生成模式中，就不需要调试代码，而是需要更快的页面加载，缓存优化等来提高用户体验。因此开发环境和生产环境需要单独配置。


# 1.开发和生产区别

\\|开发模式|生产模式|公共部分|
-|-|-|-|
css|处理css文件<br>添加厂商前缀<br>提取css<br>|处理css文件<br>添加厂商前缀<br>提取css文件<br>压缩css|处理css文件<br>添加厂商前缀<br>提取css|
less|处理less文件<br>添加厂商前缀<br>提取css|处理less文件<br>添加厂商前缀<br>提取css<br>压缩css|处理less文件<br>添加厂商前缀<br>提取css|
sass||||
图片||||
字体||||
html||||
js||||
devServer|||
清除dist|||


# 2.文件结构

webpack官方建议开发模式和生产模式的配置分开，然后将两者的公共配置提取出来。

```diff
myProject
+|-build
+   |-common.config.js
+   |-dev.config.js
+   |-prod.config.js
 |-dist
 |-node_modules
 |-src
     |-util
        |-math.js
     |-assets
        |-css
            |-index.css
        |-less
            |-index.less     
        |-sass
            |-index.scss
        |-images
            |-wali_logo.png
     |-index.html
     |-index.js
 |-package.json
 |-webpack.config.js
 |-postcss.config.js
 |-.babelrc
```














