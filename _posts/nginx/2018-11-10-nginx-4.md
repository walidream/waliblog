---
layout: post
title: nginx的基本参数使用(4)  #标题
tagline: 基于Nginx的中间架构
category: nginx      #分类
author: wali    #作者
tag: nginx     #标签
ghurl:        #github url
ghurl_zip:    #github zip下载
comments: true

post_nav: false
---

记录nginx安装完成后，在不同的目录下面的文件的作用

# 1.安装目录

在上一节中安装了nginx,使用

	rpm -ql nginx
	
就能查看nginx安装完后都在哪些目录下。

路径|类型|作用
-|-|-
/etc/logrotate.d/nginx|配置文件|Nginx日志轮转，用于logrotate服务的日志切割|
/etc/nginx <br> /etc/nginx/nginx.conf <br> /etc/nginx/conf.d <br> /etc/nginx/conf.d/default.conf |目录、配置文件|Nginx主配置文件|
/etc/nginx/fastcgi_params <br> /etc/nginx/uwsgi_params <br> /etc/nginx/scgi_params|配置文件|cgi配置相关，fastcgi配置|
/etc/nginx/koi-utf <br> /etc/nginx/koi-win <br> /etc/nginx/win-utf|配置文件|编码转换映射转化文件|
/etc/nginx/mime.types|配置文件|设置http协议的Content-Type与扩展名对应关系|
/usr/lib/systemd/system/nginx-debug.service <br> /usr/lib/systemd/system/nginx.service <br> /etc/sysconfig/nginx <br> /etc/sysconfig/nginx-debug|配置文件|用于配置出系统守护进程管理器管理方式|
/usr/lib/nginx/modules <br> /etc/nginx/modules|目录|Nginx模块目录|
/usr/sbin/nginx <br> /usr/sbin/nginx-debug|命令|Nginx服务的启动管理的终端命令|
/usr/share/doc/nginx-1.12.0 <br> /usr/share/doc/nginx-1.12.0/COPYRIGHT <br> /usr/share/man/man8/nginx.8.gz|文件目录|Nginx的手册和帮助文件|
/var/cache/nginx|目录|Nginx的缓存目录|
/var/log/nginx|目录|Nginx的日志目录|

# 2.安装编译参数

查看之前安装nginx参数

	nginx -V
	
编译选项|作用
-|-
--prefix=/etc/nginx <br> --sbin-path=/usr/sbin/nginx <br> --modules-path=/usr/lib64/nginx/modules <br> --conf-path=/etc/nginx/nginx.conf <br> --error-log-path=/var/log/nginx/error.log <br> --http-log-path=/var/log/nginx/access.log <br> --pid-path=/var/run/nginx.pid <br> --lock-path=/var/run/nginx.lock|安装目的目录或路径
--http-client-body-temp-path=/var/cache/nginx/client_temp <br> --http-proxy-temp-path=/var/cache/nginx/proxy_temp <br> --http-fastcgi-temp-path=/var/cache/nginx/fastcgi_temp <br> --http-uwsgi-temp-path=/var/cache/nginx/uwsgi_temp <br> --http-scgi-temp-path=/var/cache/nginx/scgi_temp|执行对应模块时Nginx所保留的临时性文件|
--user=nginx <br> --group=nginx|设定Nginx进程启动的用户和用户组|
--with-cc-opt=parameters|设置而外地参数将被添加到CFLAGS变量|
--with-Id-opt=parameters|设置附加的按时，链接系统库|

# 3.Nginx默认语法配置
	
语法|描述
-|-
user|设置nginx服务的系统使用用户|
worker_processes|工作进程数|
error_log|nginx的错误日志|
pid|nginx服务启动时候pid|

类型|语法|描述
-|-|-
events|worker_connections|每个进程允许最大连接数|
events|use|工作进程数

### http模块

```nginx
http {
    include       /etc/nginx/mime.types;
    default_type  application/octet-stream;

    log_format  main  '$remote_addr - $remote_user [$time_local] "$request" '
                      '$status $body_bytes_sent "$http_referer" '
                      '"$http_user_agent" "$http_x_forwarded_for"';

    access_log  /var/log/nginx/access.log  main;

    sendfile        on;
    #tcp_nopush     on;

    keepalive_timeout  65;

    #gzip  on;

    include /etc/nginx/conf.d/*.conf;
}

```















