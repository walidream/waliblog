---
layout: post
title: android QQ报错 #标题
tagline: 记录android调用QQ SDK的错误
category: mobile      #分类
author: wali    #作者
tag: cordova     #标签
ghurl:        #github url
ghurl_zip:   #github zip下载
comments: true

post_nav: ["1.闪退"]
group_tag: cordova 教程
---

本贴记录android调用QQ的错误，并记录解决方案。


# 1.闪退

Android 项目在运行在Android9.0上面的时候  闪退 报错如下`Java.lang.NoClassDefFoundError: Failed resolution of: Lorg/apache/http/conn/scheme/SchemeRegistry;`

![ssl]({{ site.url }}/assets/image/mobile/mobile_6.png)

#### 解决方案

在AndroidManifest.xml文件的application标签里面加入

```xml
<uses-library android:name="org.apache.http.legacy" android:required="false" />
```

在app中`build.gradle`添加

```diff
...
android {
+   useLibrary 'org.apache.http.legacy'
    defaultConfig {
    versionCode cdvVersionCode ?: new BigInteger("" + privateHelpers.extractIntFromManifest("versionCode"))
    applicationId privateHelpers.extractStringFromManifest("package")
...
```































