---
layout: post
title: vue指令-input自动聚焦
tagline: 用vue指令写一个input自动聚焦
category: vue      #分类
author: wali    #作者
tag: vue     #标签
ghurl:        #github url
ghurl_zip:   #github zip下载

post_nav: false
---

最近小菜用element UI的框架发现el-input 的自动聚焦只有在第一次会自动聚焦，后面的不会自动聚焦，就用指令写一个input自动聚焦

<script async src="//jsrun.net/dxhKp/embed/all/light/"></script>

在directive文件夹下创建一个`focus.js`文件，将下面代码复制进去

```javascript
export const focus ={
    inserted: function (el) {
        let dom = el.getElementsByClassName('el-input__inner')[0];
        dom.focus();
    }
}

```

在需要vue文件中指令引入

```javascript

directives:{
    focus,
}
	
```
然后在dom

```javascript

<el-input placeholder="请输入单号、人力资源姓名"
		  v-model="searchTxt"
		  v-focus
		  clearable>
	<i slot="prefix" class="el-input__icon el-icon-search"></i>
</el-input>
```





