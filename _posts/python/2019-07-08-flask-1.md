---
layout: post
title: Flask 准备工作(1)  #标题
tagline: Flask 
category: python      #分类
author: wali    #作者
tag: Flask     #标签
ghurl:        #github url
ghurl_zip:   #github zip下载
comments: true

post_nav: ["1.开发环境","2.安装python","3.检测python和pip","4.安装pipenv","5.创建虚拟环境","6.安装flask","7.创建Flask最小应用"]
group_tag: Flask 
---

Flask是一个使用Python编写的`轻量级Web应用框架`。基于`Werkzeug` WSGI工具箱和`Jinja2`模板引擎。

- [Flask 官方网站](https://palletsprojects.com/p/flask/ "https://palletsprojects.com/p/flask/")
- [Flask 中文文档网站](https://dormousehole.readthedocs.io/en/latest/ "https://dormousehole.readthedocs.io/en/latest/")

在学习python入门教程后，个人觉得掌握基础知识点只是学习阶段的开始，要想深入理解，必须从项目入手，真正了解一门语言的用途及特色。为此小菜就选择`Flask 项目实战`通过一个完整的项目，快速了解python开发web项目流程及如何在项目中应用之前学习到的知识。进一步理解python知识点。小菜本来将教程命名为`Flask 实战`，但是考虑到在实战中又会涉及到Flask单点知识，这样穿插很容易让初学者困惑,如果不讲解Flask知识点，初学者又不理解为什么这么做。所以小菜将本教程一分为二，`Flask`和`Flask 项目实战`，在Flask中只讲一些知识点，在Flask 项目实战中遇到知识点，小菜会放上链接，方便初学者快速找到知识点。


# 1.开发环境

#### 环境搭建

- 安装Python
- 检测Python 和 pip是否安装成功
- 安装pipenv
- 安装Flask


# 2.安装python

在[python官网上](https://www.python.org/ "https://www.python.org/"){:target="_blank"}找到`downloads`按钮，选择自己PC的操作系统，点击下载。windows下面安装很简单，基本就是下一步，下一步。

`注意:`
- 在windows上安装时，记得要勾选`Add Python 3.7 to PATH`
- 请注意安装Python的版本，小菜这里安装的3.7，建议大家安装python3.6版本之上的


# 3.检测python和pip

#### 检测python是否安装成功

打开windows的cmd窗口输入

```
python -V
```

出现 `Python 3.7.4`说明python安装成功

#### 检测pip是否安装成功

在python3版本之后，python安装包中会自带pip

```
pip -V
```

输出`pip 19.0.3 from d:\python\lib\site-packages\pip (python 3.7)`

![ssl](https://raw.githubusercontent.com/walidream/blogimage/master/waliblogImage/python/python_4.png)

# 4.安装pipenv

在安装pipenv之前，需要知道为什么安装pipenv。pipenv只是一个工具，我们用pipenv创建一个虚拟环境。


```
pip install pipenv
```

![ssl](https://raw.githubusercontent.com/walidream/blogimage/master/waliblogImage/python/python_5.png)


# 5.创建虚拟环境

#### 虚拟环境

建议在开发环境和生产环境下都使用虚拟环境来管理项目的依赖。

为什么要使用虚拟环境？随着你的 Python 项目越来越多，你会发现不同的项目会需要 不同的版本的 Python 库。同一个 Python 库的不同版本可能不兼容。

虚拟环境可以为每一个项目安装独立的 Python 库，这样就可以隔离不同项目之间的 Python 库，也可以隔离项目与操作系统之间的 Python 库。


#### 创建虚拟环境
我们在桌面创建一个文件夹`fisher`，在`fisher`文件夹里打开cmd

```
pipenv install
```

在创建好虚拟环境后，我们进入虚拟环境

```
pipenv shell
```

#### pipenv常用命令

命令|描述|
-|-|
pipenv --upgrade|更新pipenv＆pip到最新版本|
pipenv --where|输出虚拟环境执行档所在目录|
pipenv --py|输出现在使用python执行档资讯|
pipenv --envs|输出相关环境参数|
pipenv --rm | 删除此虚拟环境|
pipenv --bare |最小化输出|
pipenv --man|详细说明|
pipenv --version|显示版本|
pipenv check|检查已安装套件安全性|
pipenv clean|删除不在popfile.lock中的套件|
pipenv graph|显示目前安装的套件以及相依性|
pipenv install [OPTIONS] [PACKAGE_NAME] [MORE_PACKAGES]|安装套件，若后面没有带参数则会安装pipfile内所有套件|
pipenv lock [OPTIONS]|生成pipfile.lock|
pipenv open [OPTIONS] MODULE|在编辑器中打开指定的套件|
pipenv run [OPTIONS] COMMAND|在虚拟环境内执行指令|
pipenv shell [OPTIONS] [SHELL_ARGS]|进入虚拟环境|
exit|退出虚拟环境|
pipenv sync [OPTIONS]|安装所有在pipfile.lock中的套件|
pipenv uninstall [OPTIONS] [PACKAGE_NAME] [MORE_PACKAGES]|反安装指定的套件并将其从pipfile中清除|
pipenv update [OPTIONS] [PACKAGES]|更新指定套件|

# 6.安装flask

上一步`pipenv shell` 我们已经进入到虚拟环境了，接下来在虚拟环境中安装`flask`

```
pipenv install flask
```

安装完成后，我们可以使用

```
#查看安装包列表
pip list 
```
发现`Flask`已经在安装的列表里了

```txt
Package      Version
------------ -------
Click        7.0
Flask        1.1.1
itsdangerous 1.1.0
Jinja2       2.10.3
MarkupSafe   1.1.1
pip          19.2.3
setuptools   41.4.0
Werkzeug     0.16.0
wheel        0.33.6
```

# 7.创建Flask最小应用

在`fisher`目录下面创建一个`fisher.py`
```txt
fisher
|-fisher.py
```

#### fisher.py

```python
from flask import Flask

app = Flask(__name__)

@app.route('/')
def hello_world():
    return 'hello world!'

app.run()
```

保存后，在cmd中运行(在虚拟环境运行)

```
python fisher.py
```

运行后，出现如下信息

```txt
(fisher-susCSosD) C:\Users\Administrator\Desktop\fisher>python fisher.py
 * Serving Flask app "fisher" (lazy loading)
 * Environment: production
   WARNING: This is a development server. Do not use it in a production deployment.
   Use a production WSGI server instead.
 * Debug mode: off
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
127.0.0.1 - - [08/Oct/2019 14:48:33] "GET / HTTP/1.1" 200 -
127.0.0.1 - - [08/Oct/2019 14:48:33] "GET /favicon.ico HTTP/1.1" 404 -
127.0.0.1 - - [08/Oct/2019 14:48:35] "GET / HTTP/1.1" 200 -
```

在本地起了一个127.0.0.1:5000的服务，在浏览器上输入,在页面可以看到我们成功的访问到`hello world`

```txt
http://127.0.0.1:5000/
```

![ssl](https://raw.githubusercontent.com/walidream/blogimage/master/waliblogImage/python/python_6.png)


到此，我们的开发环境基本准备完成。
















