---
layout: post
title: python anaconda安装 #标题
tagline: python anaconda安装 
category: python      #分类
author: wali    #作者
tag: python     #标签
ghurl:        #github url
ghurl_zip:   #github zip下载
comments: true

post_nav: ["1.window下安装", "2.添加环境变量", "3.创建环境", "4.anaconda命令", "5.anaconda安装包","6.解决错误"]
group_tag: python 杂记 
---

Anaconda是一个方便的python包管理和环境管理软件，一般用来配置不同的项目环境。我们常常会遇到这样的情况，正在做的项目A和项目B分别基于python2和python3，而第电脑只能安装一个环境，这个时候Anaconda就派上了用场，它可以创建多个互不干扰的环境，分别运行不同版本的软件包，以达到兼容的目的。

Anaconda通过管理工具包、开发环境、Python版本，大大简化了你的工作流程。不仅可以方便地安装、更新、卸载工具包，而且安装时能自动安装相应的依赖包，同时还能使用不同的虚拟环境隔离不同要求的项目。

# 1.window下安装

[Anaconda官网](https://www.anaconda.com/distribution/ "https://www.anaconda.com/distribution/") 即可下载安装，安装过程中注意到这一步，其他的就是下一步下一步。

![ssl](http://walidream.com:9999/blogImage/python/python_13.png)

`注意`:要勾选Add Anaconda to my PATH envuronment variable

安装成功后，打开cmd，输入

```
conda -v
```

![ssl](http://walidream.com:9999/blogImage/python/python_14.png)

# 2.添加环境变量

对于安装成功后，但是在cmd中输入`conda -v` 没有打印出版本号，说明没有配置系统环境变量。

控制面板 -> 所有控制面板选项 -> 高级系统设置 -> 环境变量设置

在系统环境变量中`path`,点击新建,输入`D:\anaconda\Scripts`

![ssl](http://walidream.com:9999/blogImage/python/python_15.png)

确定完成后,在cmd输入

```
conda -v
```

# 3.创建环境

启动anaconda.exe，创建一个`PY37`环境

![ssl](http://walidream.com:9999/blogImage/python/python_16.png)

![ssl](http://walidream.com:9999/blogImage/python/python_17.png)


# 4.anaconda命令


命令|描述|
-|-|
conda --version|查看安装版本|
conda -h|查看帮助信息|
`Linux/macOS` <br> conda -rc ~/anaconda3|卸载conda|
conda info --envs <br> conda info -e <br> conda env list|查看已创建的环境|
conda create -n '新环境名' '安装包名'|创建新环境|
`Linux/macOS`<br>conda activate '环境名' <br> `Windows` <br> activate '环境名'|切换环境|
`Linux/macOS` <br> conda deactivate <br> `Windows` <br> deactivate|退出环境|
conda create --name '新环境名' --clone '被复制的环境名'|复制环境|
conda remove --name '环境名' --all|删除环境|
conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/<br>conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main/<br>conda config --set show_channel_urls yes|设置Anaconda仓库的清华镜像|
精确查找<br>conda search --full-name '包全名' <br>模糊查找:查找包含字段的包有哪些版本可供安装<br>conda search '字段'|查找可供安装的包版本|
conda install '包名'|安装包|
conda remove'包名'|卸载包|
更新所有包<br>conda update --all<br>更新指定包<br>conda update '包名|更新包|


# 5.anaconda安装包

创建一个文件夹`conda`,进入到`conda`文件夹，打开`cmd`。

```
#进入虚拟环境
activate PY37

#安装Scrapy
conda install Scrapy

#查看安装包
pip list

#退出环境
deactivate
```
![ssl](http://walidream.com:9999/blogImage/python/python_18.png)
![ssl](http://walidream.com:9999/blogImage/python/python_19.png)


# 6.解决错误

### 配置scrapy时，Fatal error in launcher: Unable to create process using '"c:\bld\scrapy_1564674375870\_h_env\python.exe" "D:\anaconda\envs\PY37\Scripts\scrapy.exe" '

**基本情况解析：**

1.scrapy是在自己创建的Python3虚拟环境PY37下安装的

2.安装scrapy选择的命令是：
```
conda install -c conda-forge scrapy
```

3.在启动项目时，已经确保进入了项目文件夹，且已经切换成PY37环境中

```txt
(PY37) F:\python\Scrapy\testScrapy>
```

**出现问题**

```txt
scrapy startproject tutorial
```

![ssl](http://walidream.com:9999/blogImage/python/python_20.png)

**解决方案**

启动代码改为

```
python -m scrapy startproject tutorial
```
问题就解决了。

![ssl](http://walidream.com:9999/blogImage/python/python_21.png)

个人推测，出现这个问题是因为有些小伙伴在安装anaconda之前，在python官网下载安装python。导致anaconda中的python环境与python官网python环境冲突
```txt
Fatal error in launcher: Unable to create process using '"c:\bld\scrapy_1564674375870\_h_env\python.exe" "D:\anaconda\envs\PY37\Scripts\scrapy.exe" '
```



