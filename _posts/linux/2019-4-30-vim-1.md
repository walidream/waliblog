---
layout: post
title: vim 技巧(1)  #标题
tagline: 整理在linux vim常用操作
category: linux      #分类
author: wali    #作者
tag: vim     #标签
ghurl:        #github url
ghurl_zip:    #github zip下载
comments: true

post_nav: ["1.区域选择","2.块操作","3.自动提示","4.宏录制","5.可视化选择","6.分屏","7.多行编辑添加和删除"]
group_tag: vim 技巧
---

小菜突然就想整理linux下面vim编辑器的常用操作，google上找到一篇帖子觉得不错，整理整理，顺便也向前辈致敬。

● 酷 壳博主的博客[https://coolshell.cn/articles/5426.html](https://coolshell.cn/articles/5426.html "https://coolshell.cn/articles/5426.html"){:target="_blank"}
	
小菜呢只是简单整理整理这篇博客所用到的命令便于自己以后查找，博主的博客写的还是很不错的，建议大家去看看。这篇博客是累加的，后面小菜觉得哪些命令常用还会添加进来

>标记

● 下面的文字中如果是`Ctrl-λ`会写成\<C-λ\>

● 以`:`开始的命令你需要输入`<enter>`回车，例如我写成`:q`也就是说你要输入`:q<enter>`

操作符|功能
-|-
ESC|返回Normal|	
i|Insert模式|	
x|删除前光标符所在的一个字符|	
:w|保存|	
:q|退出|	
:wq|保存并退出|	
dd|剪贴|	
2dd|剪贴2行|	
p|粘贴|	
3p|粘贴3次|	
hjkl|移动光标，和←↑↓→作用一样|	
:help|显示相关命令的帮助。你也可以输入:help而不跟命令|	
a|在光标后插入|	
o|在当前行后插入一个新行|	
O|在当前行前插入一个新行|	
cw|替换从光标所在位置后到一个单词结尾的字符|	
0|数字零，到行头|	
^| 到本行第一个不是blank字符的位置（所谓blank字符就是空格，tab，换行，回车等|	
$|到本行行尾|	
g_|到本行最后一个不是blank字符的位置|	
fa|到下一个为a的字符处，你也可以fs到下一个为s的字符|	
t,|到逗号前的第一个字符。逗号可以变成其它字符|	
3fa|在当前行查找第三个出现的a|	
dt|删除所有的内容，直到遇到双引号""|	
/pattern|搜索 pattern 的字符串（陈皓注：如果搜索出多个匹配，可按n键到下一个|	
yy|拷贝当前行|	
u|undo 撤销|	
\<C-r\>|redo|	
:e <path/to/file>|打开一个文件|	
:saveas <path/to/file>|另存为 <path/to/file>|	
:q!|退出不保存 |	
:qa!| 强行退出所有的正在编辑的文件，就算别的文件有更改|	
:bn|你可以同时打开很多文件，使用这个命令来切换下一个|	
:bp|你可以同时打开很多文件使用这个命令来切换上一个|	
.|(小数点) 可以重复上一次的命令|	
N<command> |重复某个命令N次|	
G|到最后一行|
NG|到第 N 行,注意命令中的G是大写的，另我一般使用 : N 到第N行，如 :137 到第137行|	
gg|到第一行|	
w|到下一个单词的开头|	
e|到下一个单词的结尾|	
%|匹配括号移动，包括 (, {, [. （注：你需要把光标先移到括号上）|	
*|匹配光标当前所在的单词移动光标到下一个|	
#|匹配光标当前所在的单词移动光标到上一个|	

# 1.区域选择

	<action>a<object> 或 <action>i<object>
	
● action可以是任何的命令，如`d`(删除), `y` (拷贝), `v` (可以视模式选择)。
	
● object 可能是： `w` 一个单词， `W` 一个以空格为分隔的单词， `s` 一个句字， `p` 一个段落。也可以是一个特别的字符：`"、` `'、` `)、` `}、` `]`	
	
假设你有一个字符串 `(map (+) ("foo"))`.而光标键在第一个 o 的位置。
	
	vi" → 会选择 foo.
	va" → 会选择 "foo".
	vi) → 会选择 "foo".
	va) → 会选择("foo").
	v2i) → 会选择 map (+) ("foo")
	v2a) → 会选择 (map (+) ("foo"))
	
# 2.块操作

\<C-v\>块操作，典型的操作： `0 <C-v> <C-d> I-- [ESC]`

	^ → 到行头
	<C-v> → 开始块操作
	<C-d> → 向下移动 (你也可以使用hjkl来移动光标，或是使用%，或是别的)
	I-- [ESC] → I是插入，插入“--”，按ESC键来为每一行生效


# 3.自动提示

\<C-n\> 和 \<C-p\>在 Insert 模式下，你可以输入一个词的开头，然后按 `<C-p>`或是`<C-n>`，自动补齐功能就出现


# 4.宏录制

qa 操作序列 q, @a, @@

● qa 把你的操作记录在寄存器 a。
 
● 于是 @a 会replay被录制的宏。

● @@ 是一个快捷键用来replay最新录制的宏

在一个只有一行且这一行只有“1”的文本中，键入如下命令：

	
	qaYp<C-a>q   //qa 开始录制 Yp复制行 <C-a>增加1 q 停止录制
	@a → 在1下面写下 2
	@@ → 在2 正面写下3
	现在做 100@@ 会创建新的100行，并把数据增加到 103.

	
# 5.可视化选择

v,V,\<C-v\>我们看到了 `<C-v>`的示例 （在Windows下应该是`<C-q>`），我们可以使用 `v` 和 `V`。一但被选好了，你可以做下面的事：

	J → 把所有的行连接起来（变成一行）
	< 或 > → 左右缩进
	= → 自动给缩进

在所有被选择的行后加上点东西：

	<C-v>
	选中相关的行 (可使用 j 或 <C-d> 或是 /pattern 或是 % 等……)
	$ 到行最后
	A, 输入字符串，按 ESC


# 6.分屏

:split 和 vsplit

	:split → 创建分屏 (:vsplit创建垂直分屏)
	<C-w><dir> : dir就是方向，可以是 hjkl 或是 ←↓↑→ 中的一个，其用来切换分屏。
	<C-w>_ (或 <C-w>|) : 最大化尺寸 (<C-w>| 垂直分屏)
	<C-w>+ (或 <C-w>-) : 增加尺寸

# 7.多行编辑添加和删除

#### 添加

- 将光标移到要插入相同内容的第一行第一个字符上
- 按下`<C-v>`进入visual block模式
- 按两次j或者2j，将光标移动到要插入的最后一样
- 按下I（大写i）进入编辑模式
- 开始输入要插入的内容，如my_
- 按esc退出（非常重要，不要忘记了），Vim会自动在这几行前面添加相同的内容，可能需要一些运行时间

### 删除

- 将光标移到要删除相同内容的第一行第一个字符上
- 按下`<C-v>`进入visual block模式
- 使用motion选中想要删除的所有内容
- 按下d，同时删除所有选中的字符













	